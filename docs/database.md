# Структура Базы Данных

## 1. Обзор

В качестве системы управления базами данных используется реляционная СУБД.

*   **Локальный вариант**: SQLite (файл `database.sqlite` или `server/database.sqlite`).
*   **Сетевой вариант (опционально)**: PostgreSQL (`1.mdc`).

Для взаимодействия с базой данных на стороне бэкенда используется ORM Sequelize (`README.md`).

## 2. Таблица `Devices`

Основная таблица для хранения информации об устройствах АСУ ТП.

| Поле              | Тип         | Описание                                      | Обязательное | Примечание                                     |
| ----------------- | ----------- | --------------------------------------------- | ------------ | ---------------------------------------------- |
| `id`              | INTEGER     | Уникальный идентификатор (Primary Key)        | Да           | Автоинкремент                                  |
| `SystemCode`      | STRING      | Код системы                                   | Нет          |                                                |
| `EquipmentCode`   | STRING      | Код оборудования                              | Нет          |                                                |
| `LineNumber`      | STRING/INT  | Номер линии                                   | Нет          | Уточнить тип                                   |
| `CabinetName`     | STRING      | Имя шкафа                                     | Нет          |                                                |
| `DeviceDesignation` | STRING      | Обозначение устройства                        | Да           |                                                |
| `DeviceType`      | STRING      | Тип устройства                                | Да           |                                                |
| `Description`     | TEXT        | Описание устройства                           | Нет          |                                                |
| `ParentId`        | INTEGER     | ID родительского устройства (Foreign Key)     | Нет          | Ссылается на `id` в этой же таблице для иерархии |
| `createdAt`       | DATETIME    | Дата и время создания записи                  | Да           | Добавляется Sequelize автоматически            |
| `updatedAt`       | DATETIME    | Дата и время последнего обновления записи     | Да           | Добавляется Sequelize автоматически            |

*Примечание: Типы данных могут незначительно отличаться в зависимости от конкретной СУБД (SQLite/PostgreSQL). Поля `createdAt` и `updatedAt` обычно добавляются Sequelize по умолчанию.* 

## 3. Планируемые таблицы (`2.mdc`)

В будущем планируется добавление следующих таблиц:

*   **`Users`**: Для хранения информации о пользователях системы (логин, хеш пароля, информация о пользователе).
*   **`Roles`**: Для реализации ролевой модели доступа.
*   **`UserRoles`**: Связующая таблица между пользователями и ролями.
*   **`Logs`**: Для ведения журнала действий пользователей и системных событий.
